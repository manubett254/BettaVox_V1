<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload | BettaVox</title>
    <meta name="csrf-token" content="{{ csrf_token }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<header>
    <h1><a href="{{ url_for('index') }}">BettaVox</a></h1>
    <nav>
        <a href="{{ url_for('index') }}">Home</a>
        <a href="{{ url_for('upload') }}">Upload</a>
        <a href="{{ url_for('about') }}">About</a>
    </nav>
</header>

<div class="container" id="upload-section">
    <h2>Upload or Record Your Voice</h2>

    <form id="upload-form" onsubmit="return false;">
        <!-- Upload Section -->
        <div id="drop-area">
            <p>Drag & Drop your audio file here</p>
            <input type="file" id="file-input" accept="audio/*" hidden required>
            <button type="button" id="browse-btn" class="btn">Browse</button>
            <p id="file-info"></p>
        </div>

        <audio id="uploaded-audio" controls class="hidden"></audio>

        <!-- Recording Section -->
        <div id="recording-container">
            <button type="button" id="record-btn" class="btn">üé§ Start Recording</button>
            <div id="recording-section" class="hidden">
                <p id="record-timer">00:00</p>
                <canvas id="waveform" width="400" height="100"></canvas>
                <div class="recording-controls">
                    <button type="button" id="stop-btn" class="btn">‚èπ Stop</button>
                    <button type="button" id="cancel-btn" class="btn">‚ùå Cancel</button>
                </div>
            </div>
            <audio id="recorded-audio" controls class="hidden"></audio>
        </div>
        <!-- Model Selection -->
        <div class="model-select">
            <label for="model-select">Choose Model:</label>
            <select id="model-select" class="btn">
                <option value="svm">Support Vector Machine (SVM)</option>
                <option value="lr">Logistic Regression (LR)</option>
            </select>
        </div>


        <button type="button" id="analyze-btn" class="btn hidden">Analyze</button>
    </form>
</div>

<!-- Processing Section -->
<div class="container hidden" id="processing-section">
    <h2>‚è≥ Processing...</h2>
    <div class="progress-bar">
        <div class="progress"></div>
    </div>
    <p id="processing-status">Initializing analysis...</p>
</div>

<footer>
    <p>&copy; 2025 BettaVox. All Rights Reserved.</p>
</footer>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>